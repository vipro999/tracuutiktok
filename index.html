<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Tra c·ª©u TikTok</title>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 40px; background: #f9f9f9; }
    input { padding: 10px; width: 250px; border-radius: 8px; border: 1px solid #ccc; }
    button { padding: 10px 16px; border: none; background: #000; color: #fff; border-radius: 8px; cursor: pointer; }
    button:hover { background: #333; }
    #result { margin-top: 30px; }
    img { border-radius: 50%; width: 120px; height: 120px; object-fit: cover; margin-top: 20px; }
  </style>
</head>
<body>
  <h2>üîç Tra c·ª©u TikTok</h2>
  <p>Nh·∫≠p username TikTok (v√≠ d·ª•: <b>oanhl5058</b>)</p>

  <input id="username" placeholder="Nh·∫≠p username..." />
  <button onclick="getInfo()">L·∫•y th√¥ng tin</button>

  <div id="result"></div>

  <script>
    async function getInfo() {
      const username = document.getElementById("username").value.trim();
      if (!username) return alert("Vui l√≤ng nh·∫≠p username!");
      document.getElementById("result").innerHTML = "‚è≥ ƒêang l·∫•y d·ªØ li·ªáu...";

      const WORKER_URL = "https://patient-tree-0be5.son92qb.workers.dev"; // <-- Thay b·∫±ng URL Worker th·∫≠t c·ªßa b·∫°n

      try {
        const res = await fetch(`${WORKER_URL}/?username=${username}`);
        if (!res.ok) throw new Error("Worker tr·∫£ v·ªÅ l·ªói");

        const data = await res.json();

        if (data.status !== "success" || !data.userInfo || !data.userInfo.user) {
          document.getElementById("result").innerHTML = "‚ùå Kh√¥ng l·∫•y ƒë∆∞·ª£c d·ªØ li·ªáu!";
          return;
        }

        const user = data.userInfo.user;
        const stats = data.userInfo.statsV2;

        document.getElementById("result").innerHTML = `
          <img src="${user.avatarMedium}" alt="avatar">
          <h3>${user.nickname}</h3>
          <p>@${user.uniqueId}</p>
          <p>üë• Followers: <b>${Number(stats.followerCount).toLocaleString()}</b></p>
        `;
      } catch (e) {
        console.error(e);
        document.getElementById("result").innerHTML = "‚ö†Ô∏è C√≥ l·ªói x·∫£y ra, vui l√≤ng th·ª≠ l·∫°i!";
      }
    }
  </script>
</body>
</html>
